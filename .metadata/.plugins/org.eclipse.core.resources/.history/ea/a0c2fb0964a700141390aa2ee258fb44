
var usrName = "";
var pssWord = "";



var json = {
			"checkbook" :{
					Headtitle: " Checking",
					Foottitle: " Total",
					"checking":
				[
					{
						"date" : " 11/11/14",
						"amount" : "6.10",
						"merchant" : "Acme",
						"memo" : "Groceries "
					 },
					 {
					 	
						"date" : " 12/1/14",
						"amount" : "27.00",
						"merchant" : "Walmart",
						"memo" : " "
					 },
					 {
					 	
						"date" : " 1/3/15",
						"amount" : "37.50",
						"merchant" : "Texaco",
						"memo" : "Gas",
					 },
					 
				]
			}
	};
	


var checkBook = Ti.UI.createTableView({
	
});		
var checking = Ti.UI.createTableViewSection({
	headerTitle: json.checkbook.Headtitle,
	footerTitle: json.checkbook.Foottitle 
});
var sum = 0;
for(i=0, j = json.checkbook.checking.length; i < j; i++){
	
	sum = sum.fixedTo(2) + parseInt(json.checkbook.checking[i].amount);
	console.log(sum);

	var entry= Ti.UI.createTableViewRow({
		height : 100,
		//title: json.checkbook.checking[i].merchant,
		date : json.checkbook.checking[i].date,
		amount : json.checkbook.checking[i].amount,
		merchant : json.checkbook.checking[i].merchant,
		memo : json.checkbook.checking[i].memo
	
});



var MerchLabel = Ti.UI.createLabel({
	text : json.checkbook.checking[i].merchant, 
	font : {fontSize : 25},
	top: 10,
	left :10
});
var dateLabel = Ti.UI.createLabel ({
	text : json.checkbook.checking[i].date, 
	font : {fontSize : 16},
	bottom : 10,
	left :10
});

var amountLabel = Ti.UI.createLabel ({
	text : json.checkbook.checking[i].amount, 
	font : {fontSize : 25},
	top : 10,
	right :10
	
});

var memoLabel = Ti.UI.createLabel ({
	text : json.checkbook.checking[i].memo, 
	font : {fontSize : 16},
	right : 10,
	bottom :10
	
});
var section = [checking];
entry.add(MerchLabel,dateLabel,amountLabel,memoLabel);
checking.add(entry);
checkBook.setData(section);
checkBook.add(section);

};


// background color
Titanium.UI.setBackgroundColor('#fff');


	
// local variables to help define label sizes accros platforms
var pageHeight = Ti.Platform.displayCaps.platformHeight;
var pageWidth = Ti.Platform.displayCaps.platformWidth;


// initial window for app
var mainWin = Ti.UI.createWindow({
	title: "Check Book",
	backgroundColor: ("#fff")
	});
	
var win2 = Ti.UI.createWindow({
	backgroundColor : "#fff"
	
});
// view

var view1 = Ti.UI.createView({
	width : pageWidth,
	height : pageHeight,
	backgroundColor : "#D2B48C",
	
});

var userName = Ti.UI.createTextField({
	borderRadius : 5,
	borderWidth : .5,
	top : pageHeight / 3,
	width : 300,
	height : 30,
	backgroundColor: "white",
	opacity : .7,
	hintText: " Username"
	
});

var password = Ti.UI.createTextField({
	borderRadius : 5,
	borderWidth : .5,
	top : (pageHeight / 3) + 50,
	width : 300,
	height : 30,
	backgroundColor: "white",
	opacity : .7,
	hintText: " Password"
});

var buttonView = Ti.UI.createView ({
	backgroundColor: "green",
	bottom : 100,	
	width: 200,
	height: 50
});
var button = Titanium.UI.createButton( {
    title : "Log In",
    font : {fontSize : 20},
    width: 200,
    height: 44, 
    color: "white "
   
} );
 button.addEventListener('click', function (e){
    //alert("Hello \n You have logged in with a username of " + userName.value);
    if ((userName.value === usrName) & (password.value === pssWord)){
   	navWindow.openWindow(win2);
    }else{
    	alert("Invalid Username or Password");
    }
 });
    
buttonView.add(button);  
view1.add(userName, password, buttonView);
mainWin.add(view1);
win2.add(checkBook);
// creating a nav window
var navWindow = Ti.UI.iOS.createNavigationWindow({
	window: mainWin
});

navWindow.open();

